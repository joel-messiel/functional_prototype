{% extends 'base.html' %} {% block content %}

<!--LOGO -->
<div class="logo-container absolute left-1/2 transform -translate-x-1/2">
  <img class="w-auto h-20 sm:h-16 xs:h-12" src="{{ url_for('static', filename='images/logo-coopmanati.jpg') }}"
    alt="CoopManati Logo" class="h-20 w-auto">
</div>

<!--HEADER BAR-->
<div class="header-bar w-full">

  <div class="w-full h-full"
    style="left: 0px; top: 10px; position: absolute; background: var(--golden-manati, #C8AC64)">
  </div>
  <div class="w-full h-5" style="left: 0; top: 0px; position: absolute; background: var(--teal-manati, #45545F)">
  </div>
</div>

<!-- START LOGIN-->
<div class="login-container flex items-center justify-center h-screen bg-white">


  <div class="signin-card shadow-lg p-8 rounded-md">

    <h2 class="text-2xl font-semibold mb-2 text-white text-center">Iniciar sesión</h2>
    {% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
    <div class="space-y-2 mb-4">
      {% for category, message in messages %}
      <div class="p-3 rounded-md text-white
                    {% if category == 'success' %} bg-green-600
                    {% elif category == 'warning' or category == 'info' %} bg-yellow-500
                    {% else %} bg-red-600 {% endif %}">
        {{ message }}
      </div>
      {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <!--LOGIN FORM-->
    <form action="/" method="post" class="space-y-4">
      <div class="relative">
        <!-- <label for="username" class="block text-sm font-medium text-gray-400">Email</label> -->
        <input type="email" id="email" name="email" placeholder="Correo electrónico"
          class="form-input block w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 text-gray-700" />
        <i class="fas fa-user absolute top-2 right-4 text-gray-500"></i>
      </div>
      <div class="relative">
        <!-- <label for="password" class="block text-sm font-medium text-gray-400">Password</label> -->
        <input type="password" id="password" name="password" placeholder="Constraseña"
          class="form-input block w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 text-gray-700" />
        <i class="fas fa-lock absolute top-2 right-4 text-gray-500"></i>
        <i class="fas fa-eye absolute top-2 right-10 text-gray-500 cursor-pointer"
          onclick="togglePasswordVisibility('password', this)"></i>
      </div>
      <button type="submit" class="signin-btn w-full text-white py-2 px-4 rounded-md transition duration-300 ">
        Iniciar sesión
      </button>
    </form>
    <p class="forgot-pass mt-4 text-center">
      <a href="{{ url_for('signup') }}" class="hover:underline">Olvidaste tu constraseña?</a>
    </p>
  </div>

</div>

<!--FOOTER BAR-->
<div class="footer-bar w-full">

  <div class="w-full h-full" style="left: 0; top: 0px; position: absolute; background: var(--golden-manati, #C8AC64)">
  </div>
  <div class="w-full h-full" style="left: 0px; top: 10px; position: absolute; background: var(--teal-manati, #45545F)">
  </div>
</div>


<script>
  function togglePasswordVisibility(fieldId, eyeIcon) {
    const field = document.getElementById(fieldId);
    if (field && eyeIcon) {
      const fieldType = field.getAttribute("type");
      if (fieldType === "password") {
        field.setAttribute("type", "text");
        eyeIcon.classList.add("fa-eye-slash");
      } else {
        field.setAttribute("type", "password");
        eyeIcon.classList.remove("fa-eye-slash");
      }
    }
  }
</script>
{% endblock %}