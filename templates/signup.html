{% extends 'base.html' %}

{% block content %}
<!--LOGO -->
<div class="logo-container absolute left-1/2 transform -translate-x-1/2">
    <img class=" w-auto  h-20 sm:h-12 xs:h-6" src="{{ url_for('static', filename='images/logo-coopmanati.jpg') }}"
        alt="CoopManati Logo" class="h-20 w-auto">
</div>

<!--HEADER BAR-->
<div class="header-bar w-full">

    <div class="w-full h-full"
        style="left: 0px; top: 10px; position: absolute; background: var(--golden-manati, #C8AC64)">
    </div>
    <div class="w-full h-5" style="left: 0; top: 0px; position: absolute; background: var(--teal-manati, #45545F)">
    </div>
</div>

<div class="flex items-center justify-center h-screen bg-white">
    <div class="forgot-pass-card shadow-lg p-4 rounded-md max-w-md w-full">
        <h2 class="text-lg font-semibold mb-2 text-white text-center">Change password</h2>
        {% if error %}
        <div class="bg-red-500 text-white p-3 mb-4">
            {{ error }}
        </div>
        {% endif %}
        <form action="/signup" method="post" class="space-y-4">
            <div class="relative">
                <label for="email" class="block text-sm font-medium text-gray-400">Email</label>
                <input type="text" id="email" name="email"
                    class="form-input block w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 text-gray-700">
                <i class="fas fa-user absolute top-8 right-4 text-gray-500"></i>
            </div>
            <div class="relative">
                <label for="password" class="block text-sm font-medium text-gray-400">Old Password</label>
                <input type="password" id="password" name="password"
                    class="form-input block w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 text-gray-700">
                <i class="fas fa-lock absolute top-8 right-4 text-gray-500"></i>
                <i class="fas fa-eye absolute top-8 right-10 text-gray-500 cursor-pointer"
                    onclick="togglePasswordVisibility('password', this)"></i>
            </div>
            <div class="relative">
                <label for="confirm_password" class="block text-sm font-medium text-gray-400">New Password</label>
                <input type="password" id="confirm_password" name="confirm_password"
                    class="form-input block w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300 text-gray-700">
                <i class="fas fa-lock absolute top-8 right-4 text-gray-500"></i>
                <i class="fas fa-eye absolute top-8 right-10 text-gray-500 cursor-pointer"
                    onclick="togglePasswordVisibility('confirm_password', this)"></i>
            </div>
            <button type="submit"
                class="confirm-pass w-full text-white py-2 px-4 rounded-md transition duration-300">Confirmar</button>
        </form>
        <p style="color: var(--golden-manati);" class="text-center mt-2"><a href="{{ url_for('login') }}"
                style="color: var(--golden-manati)" class="text-sm hover:underline">Regresar</a>
        </p>
    </div>
</div>

<!--FOOTER BAR-->
<div class="footer-bar w-full">

    <div class="w-full h-full" style="left: 0; top: 0px; position: absolute; background: var(--golden-manati, #C8AC64)">
    </div>
    <div class="w-full h-full"
        style="left: 0px; top: 10px; position: absolute; background: var(--teal-manati, #45545F)">
    </div>
</div>

<script>
    function togglePasswordVisibility(fieldId, eyeIcon) {
        const field = document.getElementById(fieldId);
        if (field && eyeIcon) {
            const fieldType = field.getAttribute('type');
            if (fieldType === 'password') {
                field.setAttribute('type', 'text');
                eyeIcon.classList.add('fa-eye-slash');
            } else {
                field.setAttribute('type', 'password');
                eyeIcon.classList.remove('fa-eye-slash');
            }
        }
    }
</script>
{% endblock %}